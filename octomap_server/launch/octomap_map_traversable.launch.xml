<?xml version="1.0" encoding="UTF-8"?>
<launch>
	<set_parameter name="use_sim_time" value="true" />
	<arg name="in_pointcloud_topic" default="/in_pointcloud" />

	<node pkg="octomap_server" exec="octomap_server_node" name="octomap_server" output="screen">
		<param name="resolution" value="0.05" />
		<param name="frame_id" value="map" />
		<param name="base_frame_id" value="base_link" />
		<param name="sensor_model.max_range" value="10.0" />
		<param name="sensor_model.hit" value="0.99" />
		<param name="sensor_model.miss" value="0.49" />
		<param name="sensor_model.max" value="0.97" />
		<param name="sensor_model.min" value="0.12" />
		<param name="latch" value="false" />
		<param name="incremental_2D_projection" value="false" />
		<param name="filter_ground_plane" value="true" />
		<param name="ground_filter.distance" value="0.05" />
        <param name="ground_filter.angle" value="0.2" />
        <param name="ground_filter.plane_distance" value="0.5" />
		<param name="point_cloud_min_x" value="-6.0" />
		<param name="point_cloud_max_x" value="6.0" />
		<param name="point_cloud_min_y" value="-6.0" />
		<param name="point_cloud_max_y" value="6.0" />
		<param name="point_cloud_min_z" value="-0.3" />
		<param name="point_cloud_max_z" value="0.3" />
		<param name="occupancy_min_z" value="0.0" />
		<param name="occupancy_max_z" value="0.2" />

		<remap from="cloud_in" to="$(var in_pointcloud_topic)" />
	</node>

	
</launch>
